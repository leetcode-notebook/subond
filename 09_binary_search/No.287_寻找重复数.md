## 287 寻找重复数-中等

题目：

给定一个包含 `n + 1` 个整数的数组 `nums` ，其数字都在 `[1, n]` 范围内（包括 `1` 和 `n`），可知至少存在一个重复的整数。

假设 `nums` 只有 **一个重复的整数** ，返回 **这个重复的数** 。

你设计的解决方案必须 **不修改** 数组 `nums` 且只用常量级 `O(1)` 的额外空间。



> **示例 1：**
>
> ```
> 输入：nums = [1,3,4,2,2]
> 输出：2
> ```
>
> **示例 2：**
>
> ```
> 输入：nums = [3,1,3,4,2]
> 输出：3
> ```



**解题思路**

这道题可用二分查找。

题目中说，所有的数字都在区间`[1,n]`之间，且只有一个数出现2次，其他数字只出现1次。那我们可以对数组的数字计数，对计数进行二分查找。

以示例1为例，在区间`[1,5]`上，区间`[1,1]`满足 cnt[i] < i；而区间`[2,4]`上，cnt[i] > [i]。

```go
// date 2024/01/15
func findDuplicate(nums []int) int {
    // [1, n]
    n := len(nums)
    left, right := 0, n-1

    ans := -1
    for left <= right {
        mid := left +(right-left)>>1
        cnt := 0
        for i := 0; i < n; i++ {
            if nums[i] <= mid {
                cnt++
            }
        }
        if cnt <= mid {
            left = mid+1
        } else {
            right = mid-1
            ans = mid
        }
    }

    return ans
}
```

