## 53 最大子数组和-中等

> 给你一个整数数组 `nums` ，请你找出一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。
>
> **子数组** 是数组中的一个连续部分。
>
> 题目链接：https://leetcode-cn.com/problems/maximum-subarray/

示例1：

> ```
> 输入：nums = [-2,1,-3,4,-1,2,1,-5,4]
> 输出：6
> 解释：连续子数组 [4,-1,2,1] 的和最大，为 6 。
> ```



算法分析：

典型的动态规划题。

子问题：

- 以 -2 结尾的连续子数组的最大和是多少
- 以 1 结尾的连续子数组的最大和是多少
- 以 -3 结尾的连续子数组的最大和是多少
- 以 4 结尾的连续子数组的最大和是多少
- 以 -1 结尾的连续子数组的最大和是多少
- 以 2 结尾的连续子数组的最大和是多少
- 以 1 结尾的连续子数组的最大和是多少
- 以 -5 结尾的连续子数组的最大和是多少
- 以 4 结尾的连续子数组的最大和是多少

我们可以发现以 1 结尾的连续子数组有`[-2, 1]` 和 `[1]` ，`[-2, 1]` 就是在子问题1的后面加上1得到的。

`-2 + 1 = -1 < 1` 因此子问题的答案就是1

由此我们可以得出：

当遍历到v时，如果之前的结果 `curMax` 小于零；那么不如另起炉灶，重新计算 `curMax`；如果大于等于零，才考虑增加当前元素。

```go
// date 2020/05/03
func maxSubArray(nums []int) int {
    if len(nums) == 0 {
        return 0
    }
    res := nums[0]
    curMax := 0
    for _, v := range nums {
        //如果当前最大值小于零，则重新计算，否则添加当前元素
        if curMax < 0 {
            curMax = v
        } else {
            curMax += v
        }
        // 更新最终结果集
        if curMax > res {
            res = curMax
        }
    }
    return res
}
```
